# Ansible

## 1. Install Ansible

untuk install ansible di ubuntu dapat memasukkan perintah berikut

```
$ sudo apt update
$ sudo apt install software-properties-common
$ sudo add-apt-repository --yes --update ppa:ansible/ansible
$ sudo apt install ansible
```

![image](https://github.com/irwanpanai/devops19-dumbways-irwanpanai/assets/89429810/1e8613bd-a17f-4a5d-b3d5-d7e6e383bb79)


### 2. Buat File ```Inventory``` dan ```ansible.cfg```

Buat Direktori baru dan buat File ```Inventory``` dan ```ansible.cfg```
```
mkdir ansible
```
Inventory

```
[appserver]
103.127.132.62

[gateway]
103.127.132.55

[all:vars]
ansible_user="irwansyah"
```


ansible.cfg
```
[defaults]

inventory = Inventory
private_key_file = /home/irwan/.ssh/id_rsa
host_key_checking = False
interpreter_python = auto_silent
```

![image](https://github.com/irwanpanai/devops19-dumbways-irwanpanai/assets/89429810/b81385c3-a773-4073-a3dd-d878e352fa97)


### 3. Salin ```id_rsa.pub``` local ke ```authorized_keys``` appserver dan gateway

buka file ```id_rsa.pub``` dan salin
```
cat ~/.ssh/id_rsa.pub
```

![image](https://github.com/irwanpanai/devops19-dumbways-irwanpanai/assets/89429810/8e91d908-c870-4425-85fc-474e169b76c7)


setelah disalin paste ke file ```authorized_keys``` appserver dan gateway
```
cd ~/.ssh
```
```
nano athorized_keys
```

![image](https://github.com/irwanpanai/devops19-dumbways-irwanpanai/assets/89429810/acd2ca56-b95f-4c5d-b58b-d9af55369571)

![image](https://github.com/irwanpanai/devops19-dumbways-irwanpanai/assets/89429810/c066f10c-022b-4de7-b401-faf170bfdf25)

test ping
```
ansible all -m ping
```

![image](https://github.com/irwanpanai/devops19-dumbways-irwanpanai/assets/89429810/9ac0c5f7-6ddf-4728-b6b4-f40f468d4816)




